              } else {
            return `
              <div class="space-y-6 animate-fade-in">
                <div class="text-cen<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æœˆå½±å¡”ç¾…å åœ ğŸ”®</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes flip-in-3d {
      from { opacity: 0; transform: perspective(1000px) rotateY(-90deg) scale(0.8); }
      to { opacity: 1; transform: perspective(1000px) rotateY(0) scale(1); }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }
    @keyframes spin-slow {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }
    @keyframes zoom-in {
      from { opacity: 0; transform: scale(0.8) translateY(50px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }
    @keyframes gradient {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    .animate-fade-in { animation: fade-in 0.8s ease-out; }
    .animate-flip-in-3d { animation: flip-in-3d 0.8s ease-out backwards; }
    .animate-float { animation: float 4s ease-in-out infinite; }
    .animate-spin-slow { animation: spin-slow 4s linear infinite; }
    .animate-twinkle { animation: twinkle 2s ease-in-out infinite; }
    .animate-zoom-in { animation: zoom-in 1.5s ease-out; }
    .animate-gradient {
      background-size: 200% auto;
      animation: gradient 3s linear infinite;
    }
    .perspective-1000 { perspective: 1000px; }
  </style>
</head>
<body class="bg-black text-white overflow-x-hidden">
  <div id="app"></div>

  <script>
    // ğŸ´ å®Œæ•´ 78 å¼µå¡”ç¾…ç‰Œæ•¸æ“š
    const TAROT_DECK = {
      major: [
        { id: 0, name: 'æ„šè€…', icon: 'ğŸš¶', keywords: 'æ–°é–‹å§‹,å†’éšª,ç´”çœŸ,è‡ªç”±,ä¿¡å¿µä¹‹èº', upright: 'ä»£è¡¨æ–°çš„é–‹å§‹ã€å†’éšªç²¾ç¥å’Œç„¡é™å¯èƒ½ã€‚ä½ æ­£ç«™åœ¨äººç”Ÿæ–°ç¯‡ç« çš„èµ·é»ã€‚', reversed: 'è­¦ç¤ºé­¯è½è¡Œç‚ºã€ç¼ºä¹è¨ˆåŠƒæˆ–é€ƒé¿è²¬ä»»ã€‚éœ€è¦æ›´è¬¹æ…åœ°æ€è€ƒã€‚' },
        { id: 1, name: 'é­”è¡“å¸«', icon: 'ğŸ©', keywords: 'å‰µé€ åŠ›,æŠ€èƒ½,è¡Œå‹•åŠ›,é¡¯åŒ–,æ„å¿—', upright: 'ä½ æ“æœ‰å¯¦ç¾ç›®æ¨™æ‰€éœ€çš„æ‰€æœ‰è³‡æºå’Œèƒ½åŠ›ã€‚æ˜¯æ™‚å€™å°‡æƒ³æ³•åŒ–ç‚ºç¾å¯¦ã€‚', reversed: 'å¯èƒ½å­˜åœ¨æ“ç¸±ã€æ¬ºé¨™æˆ–æ¿«ç”¨æ‰èƒ½çš„æƒ…æ³ã€‚éœ€è¦èª å¯¦é¢å°è‡ªå·±ã€‚' },
        { id: 2, name: 'å¥³ç¥­å¸', icon: 'ğŸŒ™', keywords: 'ç›´è¦º,ç¥ç§˜,å…§åœ¨æ™ºæ…§,æ½›æ„è­˜', upright: 'å‚¾è½ä½ çš„å…§åœ¨è²éŸ³ã€‚ç­”æ¡ˆå°±åœ¨ä½ çš„ç›´è¦ºä¹‹ä¸­,ä¿¡ä»»ä½ çš„ç¬¬å…­æ„Ÿã€‚', reversed: 'å¿½è¦–ç›´è¦º,éåº¦ç†æ€§åˆ†æã€‚éœ€è¦é‡æ–°é€£æ¥å…§åœ¨æ™ºæ…§ã€‚' },
        { id: 3, name: 'çš‡å', icon: 'ğŸ‘‘', keywords: 'è±ç››,æ¯æ€§,æ»‹é¤Š,å‰µé€ ,è‡ªç„¶', upright: 'è±¡å¾µè±ç››èˆ‡å‰µé€ åŠ›çš„ç¶»æ”¾ã€‚æ˜¯æ”¶ç©«çš„æ™‚åˆ»,ä¹Ÿæ˜¯å­•è‚²æ–°äº‹ç‰©çš„æ™‚æœŸã€‚', reversed: 'å‰µé€ åŠ›å—é˜»,éåº¦ä¾è³´æˆ–çª’æ¯å¼é—œæ„›ã€‚éœ€è¦æ‰¾å›å¹³è¡¡ã€‚' },
        { id: 4, name: 'çš‡å¸', icon: 'âš”ï¸', keywords: 'æ¬Šå¨,çµæ§‹,ç©©å®š,é ˜å°,çˆ¶æ€§', upright: 'å»ºç«‹ç§©åºå’Œç©©å®šçš„æ™‚åˆ»ã€‚é‹ç”¨ä½ çš„æ¬Šå¨å’Œç¶“é©—ä¾†æŒæ§å±€é¢ã€‚', reversed: 'éåº¦æ§åˆ¶ã€åƒµåŒ–æˆ–æ¿«ç”¨æ¬ŠåŠ›ã€‚éœ€è¦æ›´éˆæ´»çš„æ…‹åº¦ã€‚' },
        { id: 5, name: 'æ•™çš‡', icon: 'ğŸ™', keywords: 'å‚³çµ±,ä¿¡ä»°,æ•™å°,ç²¾ç¥æŒ‡å¼•', upright: 'å°‹æ±‚å‚³çµ±æ™ºæ…§å’Œç²¾ç¥æŒ‡å¼•ã€‚å‘å°å¸«æˆ–ä¿¡ä»°ç³»çµ±å­¸ç¿’ã€‚', reversed: 'æŒ‘æˆ°å‚³çµ±,å°‹æ‰¾è‡ªå·±çš„é“è·¯ã€‚ä¸è¦ç›²å¾æ—¢å®šè¦å‰‡ã€‚' },
        { id: 6, name: 'æˆ€äºº', icon: 'ğŸ’•', keywords: 'æ„›æƒ…,é¸æ“‡,çµåˆ,å’Œè«§,åƒ¹å€¼è§€', upright: 'é‡è¦çš„é¸æ“‡æ™‚åˆ»,é€šå¸¸èˆ‡é—œä¿‚æˆ–åƒ¹å€¼è§€æœ‰é—œã€‚è·Ÿéš¨ä½ çš„å¿ƒã€‚', reversed: 'é—œä¿‚å¤±è¡¡,åƒ¹å€¼è§€è¡çªã€‚éœ€è¦é‡æ–°è©•ä¼°ä½ çš„é¸æ“‡ã€‚' },
        { id: 7, name: 'æˆ°è»Š', icon: 'ğŸ‡', keywords: 'æ„å¿—,å‹åˆ©,å‰é€²,æ§åˆ¶,æ±ºå¿ƒ', upright: 'æ†‘è—‰æ„å¿—åŠ›å’Œæ±ºå¿ƒå…‹æœéšœç¤™ã€‚å‹åˆ©åœ¨æœ›,ä¿æŒå°ˆæ³¨å‰é€²ã€‚', reversed: 'å¤±å»æ–¹å‘æˆ–æ§åˆ¶ã€‚å¯èƒ½éœ€è¦é‡æ–°èª¿æ•´ç­–ç•¥ã€‚' },
        { id: 8, name: 'åŠ›é‡', icon: 'ğŸ¦', keywords: 'å‹‡æ°£,è€å¿ƒ,å…§åœ¨åŠ›é‡,æº«æŸ”,é¦´æœ', upright: 'çœŸæ­£çš„åŠ›é‡ä¾†è‡ªå…§åœ¨çš„å‹‡æ°£å’Œæº«æŸ”ã€‚ä»¥æ„›å’Œè€å¿ƒé¢å°æŒ‘æˆ°ã€‚', reversed: 'è‡ªæˆ‘æ‡·ç–‘,ç¼ºä¹ä¿¡å¿ƒã€‚éœ€è¦é‡æ‹¾å…§åœ¨åŠ›é‡ã€‚' },
        { id: 9, name: 'éš±è€…', icon: 'ğŸ•¯ï¸', keywords: 'å…§çœ,å­¤ç¨,æ™ºæ…§,å°‹æ‰¾,æŒ‡å¼•', upright: 'éœ€è¦ç¨è™•å’Œå…§çœçš„æ™‚åˆ»ã€‚åœ¨å­¤ç¨ä¸­å°‹æ‰¾ç­”æ¡ˆå’Œæ™ºæ…§ã€‚', reversed: 'éåº¦å­¤ç«‹æˆ–æ‹’çµ•å°‹æ±‚å¹«åŠ©ã€‚éœ€è¦é‡æ–°é€£æ¥å¤–ç•Œã€‚' },
        { id: 10, name: 'å‘½é‹ä¹‹è¼ª', icon: 'â˜¸ï¸', keywords: 'è½‰è®Š,å‘½é‹,å¾ªç’°,æ©Ÿæœƒ,è®ŠåŒ–', upright: 'ç”Ÿå‘½çš„è½‰æŠ˜é»ã€‚å‘½é‹ä¹‹è¼ªæ­£åœ¨è½‰å‹•,å¸¶ä¾†æ–°çš„æ©Ÿæœƒã€‚', reversed: 'å£é‹æ°£æˆ–ä¸å—æ­¡è¿çš„è®ŠåŒ–ã€‚è¨˜ä½ä¸€åˆ‡éƒ½æœƒéå»ã€‚' },
        { id: 11, name: 'æ­£ç¾©', icon: 'âš–ï¸', keywords: 'å…¬å¹³,çœŸç›¸,æ³•å¾‹,å› æœ,å¹³è¡¡', upright: 'çœŸç›¸å°‡è¢«æ­ç¤º,å…¬å¹³çš„åˆ¤æ±ºå³å°‡åˆ°ä¾†ã€‚å› æœå¾ªç’°æ­£åœ¨é‹ä½œã€‚', reversed: 'ä¸å…¬å¹³å°å¾…,é€ƒé¿è²¬ä»»ã€‚éœ€è¦é¢å°çœŸç›¸ã€‚' },
        { id: 12, name: 'å€’åŠäºº', icon: 'ğŸ™ƒ', keywords: 'çŠ§ç‰²,æ”¾æ‰‹,æ–°è¦–è§’,æš«åœ,ç­‰å¾…', upright: 'å¾æ–°çš„è§’åº¦çœ‹å•é¡Œã€‚æœ‰æ™‚å€™æ”¾æ‰‹å’Œç­‰å¾…æ˜¯å¿…è¦çš„ã€‚', reversed: 'ç„¡è¬‚çš„çŠ§ç‰²æˆ–æ‹’çµ•æ”¹è®Šè¦–è§’ã€‚åœæ­¢æŠ—æ‹’ã€‚' },
        { id: 13, name: 'æ­»ç¥', icon: 'ğŸ’€', keywords: 'çµæŸ,è½‰åŒ–,é‡ç”Ÿ,é‡‹æ”¾,è›»è®Š', upright: 'æŸå€‹éšæ®µçš„çµæŸ,ç‚ºæ–°é–‹å§‹é¨°å‡ºç©ºé–“ã€‚è›»è®Šå³å°‡ç™¼ç”Ÿã€‚', reversed: 'æŠ—æ‹’æ”¹è®Š,åŸ·è‘—æ–¼éå»ã€‚æ”¾æ‰‹æ‰èƒ½å‰é€²ã€‚' },
        { id: 14, name: 'ç¯€åˆ¶', icon: 'ğŸ§˜', keywords: 'å¹³è¡¡,èª¿å’Œ,è€å¿ƒ,ä¸­åº¸,ç™‚ç™’', upright: 'å°‹æ‰¾å¹³è¡¡å’Œèª¿å’Œã€‚è€å¿ƒå’Œé©åº¦æ˜¯é—œéµã€‚', reversed: 'å¤±è¡¡,éåº¦æˆ–æ¥µç«¯è¡Œç‚ºã€‚éœ€è¦å›æ­¸ä¸­é“ã€‚' },
        { id: 15, name: 'æƒ¡é­”', icon: 'ğŸ˜ˆ', keywords: 'æŸç¸›,èª˜æƒ‘,ç‰©è³ª,åŸ·è‘—,é™°å½±', upright: 'è¢«ç‰©è³ªæ…¾æœ›æˆ–ä¸å¥åº·çš„é—œä¿‚æŸç¸›ã€‚æ˜¯æ™‚å€™æ™è„«æ·é–ã€‚', reversed: 'é–‹å§‹è¦ºå¯Ÿä¸¦æ“ºè„«æŸç¸›ã€‚è§£æ”¾å³å°‡ä¾†è‡¨ã€‚' },
        { id: 16, name: 'é«˜å¡”', icon: 'âš¡', keywords: 'çªè®Š,å´©å¡Œ,å•Ÿç¤º,ç ´å£,è§£æ”¾', upright: 'çªå¦‚å…¶ä¾†çš„è®ŠåŒ–æ‰“ç ´èˆŠçµæ§‹ã€‚åœ¨æ··äº‚ä¸­æ‰¾åˆ°è§£æ”¾ã€‚', reversed: 'æŠ—æ‹’å¿…è¦çš„æ”¹è®Šã€‚å´©æ½°å¯èƒ½å»¶é²ä½†ä»æœƒç™¼ç”Ÿã€‚' },
        { id: 17, name: 'æ˜Ÿæ˜Ÿ', icon: 'â­', keywords: 'å¸Œæœ›,éˆæ„Ÿ,å¯§éœ,ä¿¡å¿µ,ç™‚ç™’', upright: 'å¸Œæœ›å’Œéˆæ„Ÿçš„åˆ°ä¾†ã€‚ç›¸ä¿¡å®‡å®™çš„æŒ‡å¼•,ç™‚ç™’æ­£åœ¨ç™¼ç”Ÿã€‚', reversed: 'å¤±å»ä¿¡å¿ƒå’Œå¸Œæœ›ã€‚éœ€è¦é‡æ–°é»ç‡ƒå…§åœ¨ä¹‹å…‰ã€‚' },
        { id: 18, name: 'æœˆäº®', icon: 'ğŸŒ•', keywords: 'å¹»è¦º,ææ‡¼,æ½›æ„è­˜,ç›´è¦º,ä¸ç¢ºå®š', upright: 'äº‹æƒ…ä¸¦éè¡¨é¢æ‰€è¦‹ã€‚ä¿¡ä»»ä½ çš„ç›´è¦º,ç©¿è¶Šå¹»è±¡ã€‚', reversed: 'ææ‡¼å’Œç„¦æ…®é€æ¼¸æ•£å»ã€‚çœŸç›¸é–‹å§‹æµ®ç¾ã€‚' },
        { id: 19, name: 'å¤ªé™½', icon: 'â˜€ï¸', keywords: 'æˆåŠŸ,å–œæ‚…,æ´»åŠ›,å…‰æ˜,æ­£é¢', upright: 'æˆåŠŸå’Œå–œæ‚…çš„æ™‚åˆ»ã€‚ä¸€åˆ‡éƒ½ç…§äº®äº†,äº«å—é€™ä»½å…‰æ˜ã€‚', reversed: 'æš«æ™‚çš„æŒ«æŠ˜,ä½†é™½å…‰ä»æœƒåˆ°ä¾†ã€‚ä¿æŒæ¨‚è§€ã€‚' },
        { id: 20, name: 'å¯©åˆ¤', icon: 'ğŸ“¯', keywords: 'è¦ºé†’,æ•‘è´–,å‘¼å–š,é‡ç”Ÿ,åæ€', upright: 'è¦ºé†’å’Œæ›´æ–°çš„æ™‚åˆ»ã€‚éå»çš„è¡Œç‚ºå°‡è¢«è©•åˆ¤,æ–°ç”Ÿå‘½é–‹å§‹ã€‚', reversed: 'è‡ªæˆ‘æ‰¹åˆ¤éåº¦æˆ–æ‹’çµ•åæ€ã€‚å¯¬æ•è‡ªå·±ã€‚' },
        { id: 21, name: 'ä¸–ç•Œ', icon: 'ğŸŒ', keywords: 'å®Œæˆ,æˆå°±,æ•´åˆ,åœ“æ»¿,æ—…ç¨‹çµ‚é»', upright: 'ä¸€å€‹å¾ªç’°çš„å®Œæˆ,ç›®æ¨™é”æˆã€‚æ…¶ç¥ä½ çš„æˆå°±ã€‚', reversed: 'æœªå®Œæˆçš„äº‹æ¥­,å°šæœªé”åˆ°ç›®æ¨™ã€‚é‚„éœ€æœ€å¾Œçš„åŠªåŠ›ã€‚' }
      ],
      minor: {
        wands: [
          { name: 'æ¬Šæ–ç‹ç‰Œ', icon: 'ğŸ”¥', keywords: 'æ–°è¨ˆåŠƒ,éˆæ„Ÿ,å‰µé€ åŠ›,æ©Ÿæœƒ', upright: 'å‰µæ„é …ç›®çš„çµ•ä½³é–‹å§‹ã€‚æŠ“ä½é€™å€‹å……æ»¿æ½›åŠ›çš„æ©Ÿæœƒã€‚', reversed: 'ç¼ºä¹æ–¹å‘æˆ–å»¶é²çš„é–‹å§‹ã€‚é‡æ–°é»ç‡ƒä½ çš„ç†±æƒ…ã€‚' },
          { name: 'æ¬Šæ–äºŒ', icon: 'ğŸŒ', keywords: 'è¨ˆåŠƒ,æ±ºç­–,ç­‰å¾…,å€‹äººåŠ›é‡', upright: 'ç«™åœ¨åå­—è·¯å£ã€‚ä½ æ“æœ‰åŠ›é‡,æ˜¯æ™‚å€™åšå‡ºé¸æ“‡äº†ã€‚', reversed: 'çŒ¶è±«ä¸æ±ºæˆ–è¨ˆåŠƒä¸å‘¨ã€‚éœ€è¦æ›´æ¸…æ™°çš„é¡˜æ™¯ã€‚' },
          { name: 'æ¬Šæ–ä¸‰', icon: 'â›µ', keywords: 'æ“´å±•,é è¦‹,é ˜å°,å‰ç»', upright: 'ä½ çš„è¨ˆåŠƒé–‹å§‹å±•ç¾æˆæœã€‚ä¿æŒé è¦‹å’Œé ˜å°åŠ›ã€‚', reversed: 'ç¼ºä¹é è¦‹æˆ–é‡åˆ°é˜»ç¤™ã€‚é‡æ–°è©•ä¼°ç­–ç•¥ã€‚' },
          { name: 'æ¬Šæ–å››', icon: 'ğŸ‰', keywords: 'æ…¶ç¥,å’Œè«§,ç©©å®š,å®¶åº­', upright: 'æ…¶ç¥é‡Œç¨‹ç¢‘å’Œæˆå°±ã€‚äº«å—é€™ä»½å’Œè«§èˆ‡ç©©å®šã€‚', reversed: 'ç¼ºä¹æ”¯æŒæˆ–ä¸ç©©å®šã€‚éœ€è¦é‡å»ºåŸºç¤ã€‚' },
          { name: 'æ¬Šæ–äº”', icon: 'âš”ï¸', keywords: 'è¡çª,ç«¶çˆ­,å¼µåŠ›,æ„è¦‹åˆ†æ­§', upright: 'é¢è‡¨ç«¶çˆ­å’Œè¡çªã€‚ä¿æŒå°ˆæ³¨æ–¼ä½ çš„ç›®æ¨™ã€‚', reversed: 'è¡çªçµæŸæˆ–é¿å…å°æŠ—ã€‚å°‹æ±‚å’Œå¹³è§£æ±ºã€‚' },
          { name: 'æ¬Šæ–å…­', icon: 'ğŸ†', keywords: 'å‹åˆ©,èªå¯,é€²å±•,å…¬çœ¾èªåŒ', upright: 'å…¬é–‹çš„æˆåŠŸå’Œèªå¯ã€‚ä½ çš„åŠªåŠ›å¾—åˆ°å›å ±ã€‚', reversed: 'ç¼ºä¹èªå¯æˆ–è‡ªæˆ‘æ‡·ç–‘ã€‚ä¸è¦ä¾è³´å¤–ç•Œè‚¯å®šã€‚' },
          { name: 'æ¬Šæ–ä¸ƒ', icon: 'ğŸ›¡ï¸', keywords: 'æŒ‘æˆ°,é˜²ç¦¦,å …æŒ,ç«¶çˆ­', upright: 'é¢å°æŒ‘æˆ°æ™‚ä¿æŒç«‹å ´ã€‚ä½ æœ‰èƒ½åŠ›æè¡›è‡ªå·±ã€‚', reversed: 'æ”¾æ£„æˆ–è¢«å£“å€’ã€‚å¯èƒ½éœ€è¦æˆ°ç•¥æ€§æ’¤é€€ã€‚' },
          { name: 'æ¬Šæ–å…«', icon: 'âœˆï¸', keywords: 'å¿«é€Ÿè¡Œå‹•,é€²å±•,é€Ÿåº¦,æ—…ç¨‹', upright: 'äº‹æƒ…å¿«é€Ÿç™¼å±•ã€‚ä¿æŒå‹•åŠ›,ç›®æ¨™å°±åœ¨çœ¼å‰ã€‚', reversed: 'å»¶é²æˆ–å€‰ä¿ƒè¡Œäº‹ã€‚éœ€è¦èª¿æ•´ç¯€å¥ã€‚' },
          { name: 'æ¬Šæ–ä¹', icon: 'ğŸ”ï¸', keywords: 'éŸŒæ€§,å …æŒ,é˜²å‚™,æœ€å¾Œè¡åˆº', upright: 'æ¥è¿‘çµ‚é»ä½†ä»éœ€å …æŒã€‚å±•ç¾ä½ çš„éŸŒæ€§ã€‚', reversed: 'ç²¾ç–²åŠ›ç«­æˆ–æ”¾æ£„ã€‚ä¼‘æ¯ä»¥æ¢å¾©åŠ›é‡ã€‚' },
          { name: 'æ¬Šæ–å', icon: 'ğŸ“¦', keywords: 'è² æ“”,å£“åŠ›,è²¬ä»»,éåº¦æ‰¿æ“”', upright: 'æ‰¿æ“”å¤ªå¤šè²¬ä»»ã€‚å­¸æœƒå§”æ´¾å’Œå°‹æ±‚å¹«åŠ©ã€‚', reversed: 'å¸ä¸‹è² æ“”æˆ–æ‹’çµ•æ‰¿æ“”ã€‚è¨­å®šç•Œé™ã€‚' },
          { name: 'æ¬Šæ–ä¾è€…', icon: 'ğŸ¯', keywords: 'ç†±æƒ…,æ¢ç´¢,å¥½æ¶ˆæ¯,è‡ªç”±ç²¾ç¥', upright: 'å……æ»¿ç†±æƒ…çš„æ–°æ¶ˆæ¯æˆ–æ©Ÿæœƒã€‚ä¿æŒå¥½å¥‡å¿ƒã€‚', reversed: 'ç¼ºä¹æ–¹å‘æˆ–å£æ¶ˆæ¯ã€‚é‡æ–°æ‰¾åˆ°ä½ çš„ç†±æƒ…ã€‚' },
          { name: 'æ¬Šæ–é¨å£«', icon: 'ğŸ', keywords: 'è¡Œå‹•,å†’éšª,è¡å‹•,ç†±æƒ…è¿½æ±‚', upright: 'å……æ»¿æ´»åŠ›åœ°è¿½æ±‚ç›®æ¨™ã€‚è¡Œå‹•å‹æ–¼è¨€èªã€‚', reversed: 'é­¯è½æˆ–ç¼ºä¹è€å¿ƒã€‚ä¸‰æ€è€Œå¾Œè¡Œã€‚' },
          { name: 'æ¬Šæ–ç‹å', icon: 'ğŸ¦‹', keywords: 'è‡ªä¿¡,ç¨ç«‹,é­…åŠ›,ç†±æƒ…é ˜å°', upright: 'å±•ç¾ä½ çš„è‡ªä¿¡å’Œé­…åŠ›ã€‚ä»¥ç†±æƒ…é ˜å°ä»–äººã€‚', reversed: 'ç¼ºä¹è‡ªä¿¡æˆ–éåº¦è‡ªæˆ‘ä¸­å¿ƒã€‚æ‰¾å›å¹³è¡¡ã€‚' },
          { name: 'æ¬Šæ–åœ‹ç‹', icon: 'ğŸ¦…', keywords: 'é¡˜æ™¯,é ˜å°,ä¼æ¥­å®¶ç²¾ç¥,æ¦®è­½', upright: 'å±•ç¾å¼·å¤§çš„é ˜å°åŠ›å’Œé è¦‹ã€‚ä½ æ˜¯å¤©ç”Ÿçš„é ˜è¢–ã€‚', reversed: 'ç¨è£æˆ–æ¿«ç”¨æ¬ŠåŠ›ã€‚æ›´è¬™éœåœ°é ˜å°ã€‚' }
        ],
        cups: [
          { name: 'è–æ¯ç‹ç‰Œ', icon: 'ğŸ’§', keywords: 'æ–°æ„Ÿæƒ…,æ„›,ç›´è¦º,å‰µæ„,æƒ…æ„Ÿè¦ºé†’', upright: 'æ–°çš„æ„›æƒ…æˆ–æ·±åˆ»çš„æƒ…æ„Ÿé€£çµé–‹å§‹ã€‚æ•é–‹ä½ çš„å¿ƒã€‚', reversed: 'æƒ…æ„Ÿå°é–‰æˆ–è¢«æ‹’çµ•ã€‚éœ€è¦ç™‚ç™’å…§å¿ƒã€‚' },
          { name: 'è–æ¯äºŒ', icon: 'ğŸ’‘', keywords: 'å¤¥ä¼´é—œä¿‚,é€£çµ,å¸å¼•,å¹³ç­‰', upright: 'å’Œè«§çš„é—œä¿‚å’Œç›¸äº’é€£çµã€‚å…©é¡†å¿ƒåˆè€Œç‚ºä¸€ã€‚', reversed: 'é—œä¿‚å¤±è¡¡æˆ–ç ´è£‚ã€‚éœ€è¦æºé€šå’Œä¿®å¾©ã€‚' },
          { name: 'è–æ¯ä¸‰', icon: 'ğŸ¥‚', keywords: 'æ…¶ç¥,å‹èª¼,ç¤¾ç¾¤,å–œæ‚…', upright: 'èˆ‡æœ‹å‹æ…¶ç¥ã€‚ç¤¾äº¤é€£çµå¸¶ä¾†å–œæ‚…å’Œæ»¿è¶³ã€‚', reversed: 'ç¤¾äº¤å­¤ç«‹æˆ–å‹èª¼å•é¡Œã€‚é‡å»ºé€£çµã€‚' },
          { name: 'è–æ¯å››', icon: 'ğŸ§˜', keywords: 'å†·æ¼ ,æ²‰æ€,é‡æ–°è©•ä¼°,ç„¡èŠ', upright: 'å°ç¾ç‹€æ„Ÿåˆ°ä¸æ»¿ã€‚æ˜¯æ™‚å€™é‡æ–°è©•ä¼°ä½ çš„æƒ…æ„Ÿéœ€æ±‚ã€‚', reversed: 'é‡æ–°æŠ•å…¥æˆ–çœ‹åˆ°æ–°æ©Ÿæœƒã€‚èµ°å‡ºæ²‰æ€ã€‚' },
          { name: 'è–æ¯äº”', icon: 'ğŸ˜¢', keywords: 'å¤±è½,æ‚²å‚·,éºæ†¾,å¤±æœ›', upright: 'ç¶“æ­·å¤±è½å’Œæ‚²å‚·ã€‚å…è¨±è‡ªå·±å“€æ‚¼,ä½†è¨˜å¾—è½‰èº«çœ‹åˆ°å‰©é¤˜çš„æ¯å­ã€‚', reversed: 'æ¥å—å¤±è½ä¸¦å‰é€²ã€‚ç™‚ç™’æ­£åœ¨ç™¼ç”Ÿã€‚' },
          { name: 'è–æ¯å…­', icon: 'ğŸ', keywords: 'æ‡·èˆŠ,ç«¥å¹´,å›æ†¶,ç´”çœŸ', upright: 'å›é¡§éå»å¸¶ä¾†æº«æš–ã€‚ç«¥å¹´è¨˜æ†¶å½±éŸ¿ç¾åœ¨ã€‚', reversed: 'æ´»åœ¨éå»æˆ–ç†æƒ³åŒ–è¨˜æ†¶ã€‚æ´»åœ¨ç•¶ä¸‹ã€‚' },
          { name: 'è–æ¯ä¸ƒ', icon: 'â˜ï¸', keywords: 'é¸æ“‡,å¹»æƒ³,é¡˜æœ›,å›°æƒ‘', upright: 'é¢å°çœ¾å¤šé¸æ“‡å’Œå¹»æƒ³ã€‚éœ€è¦æ¸…æ™°åº¦ä¾†åšæ±ºå®šã€‚', reversed: 'åšå‡ºæ±ºå®šæˆ–çœ‹æ¸…å¹»è±¡ã€‚ç¾å¯¦æª¢æŸ¥ã€‚' },
          { name: 'è–æ¯å…«', icon: 'ğŸš¶', keywords: 'æ”¾æ‰‹,é›¢é–‹,å°‹æ‰¾æ›´æ·±æ„ç¾©', upright: 'é›¢é–‹ä¸å†æœå‹™ä½ çš„äº‹ç‰©ã€‚å°‹æ‰¾æ›´æ·±å±¤çš„æ»¿è¶³ã€‚', reversed: 'ææ‡¼æ”¹è®Šæˆ–å¾˜å¾Šä¸å‰ã€‚å‹‡æ•¢å‰é€²ã€‚' },
          { name: 'è–æ¯ä¹', icon: 'ğŸ˜Œ', keywords: 'æ»¿è¶³,é¡˜æœ›æˆçœŸ,æƒ…æ„Ÿå¹¸ç¦', upright: 'é¡˜æœ›ä¹‹æ¯ã€‚æƒ…æ„Ÿæ»¿è¶³å’Œå¤¢æƒ³æˆçœŸçš„æ™‚åˆ»ã€‚', reversed: 'ä¸æ»¿æˆ–è²ªå©ªã€‚æ„Ÿæ©ä½ æ‰€æ“æœ‰çš„ã€‚' },
          { name: 'è–æ¯å', icon: 'ğŸ¡', keywords: 'æƒ…æ„Ÿåœ“æ»¿,å¹¸ç¦å®¶åº­,å’Œè«§,æ„›', upright: 'å®Œç¾çš„æƒ…æ„Ÿå¹¸ç¦ã€‚å®¶åº­å’Œè«§,æ„›å……æ»¿ç”Ÿæ´»ã€‚', reversed: 'å®¶åº­ä¸å’Œæˆ–ç ´ç¢çš„é—œä¿‚ã€‚å°‹æ±‚ç™‚ç™’ã€‚' },
          { name: 'è–æ¯ä¾è€…', icon: 'ğŸ ', keywords: 'å‰µæ„æ¶ˆæ¯,ç›´è¦º,å…§åœ¨å­©ç«¥,æº«æŸ”', upright: 'ä¾†è‡ªå…§å¿ƒçš„å‰µæ„è¨Šæ¯ã€‚ä¿æŒç«¥çœŸå’Œå¥½å¥‡ã€‚', reversed: 'æƒ…æ„Ÿä¸æˆç†Ÿæˆ–è¢«å£“æŠ‘çš„å‰µé€ åŠ›ã€‚æˆé•·ã€‚' },
          { name: 'è–æ¯é¨å£«', icon: 'ğŸ¦¢', keywords: 'æµªæ¼«,é­…åŠ›,æƒ³åƒåŠ›,ç†æƒ³ä¸»ç¾©', upright: 'æµªæ¼«çš„æè­°æˆ–å‰µæ„è¿½æ±‚ã€‚è·Ÿéš¨ä½ çš„å¿ƒå’Œæƒ³åƒã€‚', reversed: 'ä¸åˆ‡å¯¦éš›æˆ–æƒ…ç·’åŒ–è¡Œç‚ºã€‚è…³è¸å¯¦åœ°ã€‚' },
          { name: 'è–æ¯ç‹å', icon: 'ğŸŒŠ', keywords: 'åŒç†å¿ƒ,é—œæ‡·,ç›´è¦ºæ™ºæ…§,æ»‹é¤Š', upright: 'æ·±åˆ»çš„åŒç†å¿ƒå’Œæƒ…æ„Ÿæ™ºæ…§ã€‚æ»‹é¤Šè‡ªå·±å’Œä»–äººã€‚', reversed: 'æƒ…æ„Ÿä¾è³´æˆ–éåº¦æ•æ„Ÿã€‚å»ºç«‹ç•Œé™ã€‚' },
          { name: 'è–æ¯åœ‹ç‹', icon: 'ğŸ‹', keywords: 'æƒ…æ„Ÿæˆç†Ÿ,å¤–äº¤,æ™ºæ…§,å¹³è¡¡', upright: 'æƒ…æ„Ÿä¸Šçš„æˆç†Ÿå’Œå¹³è¡¡ã€‚ä»¥æ™ºæ…§è™•ç†æƒ…æ„Ÿã€‚', reversed: 'æƒ…æ„Ÿæ“ç¸±æˆ–å†·æ¼ ã€‚é‡æ–°é€£æ¥ä½ çš„å¿ƒã€‚' }
        ],
        swords: [
          { name: 'å¯¶åŠç‹ç‰Œ', icon: 'ğŸ—¡ï¸', keywords: 'çªç ´,æ¸…æ™°,çœŸç›¸,å¿ƒæ™ºåŠ›é‡', upright: 'å¿ƒæ™ºçš„çªç ´å’Œæ¸…æ™°æ™‚åˆ»ã€‚çœŸç›¸è¢«æ­ç¤ºã€‚', reversed: 'å›°æƒ‘æˆ–éŒ¯èª¤åˆ¤æ–·ã€‚éœ€è¦æ›´å¤šè³‡è¨Šã€‚' },
          { name: 'å¯¶åŠäºŒ', icon: 'âš–ï¸', keywords: 'å›°é›£æ±ºå®š,åƒµå±€,è¿´é¿,å¹³è¡¡', upright: 'é¢å°å›°é›£é¸æ“‡ã€‚éœ€è¦åšå‡ºæ±ºå®šä½†å…©é›£ã€‚', reversed: 'æ±ºå®šåšå‡ºæˆ–åƒµå±€æ‰“ç ´ã€‚å‰é€²çš„æ™‚åˆ»ã€‚' },
          { name: 'å¯¶åŠä¸‰', icon: 'ğŸ’”', keywords: 'å¿ƒç—›,æ‚²å‚·,ç—›è‹¦,æƒ…æ„Ÿå‰µå‚·', upright: 'æ·±åˆ»çš„æƒ…æ„Ÿç—›è‹¦å’Œå¿ƒç¢ã€‚å…è¨±è‡ªå·±æ‚²å‚·ã€‚', reversed: 'ç™‚ç™’é–‹å§‹,å¾ç—›è‹¦ä¸­æ¢å¾©ã€‚å¸Œæœ›é‡ç¾ã€‚' },
          { name: 'å¯¶åŠå››', icon: 'ğŸ˜´', keywords: 'ä¼‘æ¯,æ¢å¾©,æ²‰æ€,éœé¤Š', upright: 'éœ€è¦ä¼‘æ¯å’Œæ¢å¾©ã€‚æš«æ™‚æ’¤é€€ä»¥é‡æ–°å……é›»ã€‚', reversed: 'ä¼‘æ¯çµæŸ,æº–å‚™é‡æ–°æŠ•å…¥ã€‚æ¢å¾©æ´»åŠ›ã€‚' },
          { name: 'å¯¶åŠäº”', icon: 'âš”ï¸', keywords: 'è¡çª,å¤±æ•—,èƒŒå›,è‡ªç§', upright: 'ç¶“æ­·è¡çªå’Œå¯èƒ½çš„èƒŒå›ã€‚é¸æ“‡ä½ çš„æˆ°é¬¥ã€‚', reversed: 'è¡çªè§£æ±ºæˆ–æ”¾ä¸‹æ€¨æ¨ã€‚å°‹æ±‚å’Œè§£ã€‚' },
          { name: 'å¯¶åŠå…­', icon: 'â›µ', keywords: 'éæ¸¡,æ—…ç¨‹,é›¢é–‹å›°å¢ƒ', upright: 'å¾å›°é›£ä¸­éæ¸¡åˆ°å¹³éœã€‚æ—…ç¨‹å¸¶ä¾†ç™‚ç™’ã€‚', reversed: 'ç„¡æ³•å‰é€²æˆ–è¢«å›°æ–¼éå»ã€‚å°‹æ±‚æ”¯æŒã€‚' },
          { name: 'å¯¶åŠä¸ƒ', icon: 'ğŸ¦Š', keywords: 'æ¬ºé¨™,ç­–ç•¥,å·ç«Š,é€ƒé¿', upright: 'å¯èƒ½æ¶‰åŠæ¬ºé¨™æˆ–ä¸èª å¯¦ã€‚è¬¹æ…è¡Œäº‹ã€‚', reversed: 'çœŸç›¸æ­éœ²æˆ–è‰¯å¿ƒç™¼ç¾ã€‚èª å¯¦é¢å°ã€‚' },
          { name: 'å¯¶åŠå…«', icon: 'ğŸ•¸ï¸', keywords: 'é™åˆ¶,å›°ä½,ç„¡åŠ›æ„Ÿ,å—å®³', upright: 'æ„Ÿåˆ°è¢«å›°å’Œç„¡åŠ›ã€‚è¨˜ä½æŸç¸›å¯èƒ½æ˜¯è‡ªæˆ‘è¨­é™ã€‚', reversed: 'è§£æ”¾è‡ªå·±,çªç ´é™åˆ¶ã€‚è‡ªç”±å³å°‡åˆ°ä¾†ã€‚' },
          { name: 'å¯¶åŠä¹', icon: 'ğŸ˜°', keywords: 'ç„¦æ…®,å™©å¤¢,ææ‡¼,æ†‚æ…®', upright: 'è¢«ç„¦æ…®å’Œææ‡¼å›°æ“¾ã€‚å°‹æ±‚æ”¯æŒä¾†é¢å°ã€‚', reversed: 'ææ‡¼æ¶ˆé€€,å¸Œæœ›å‡ºç¾ã€‚ç™‚ç™’æ­£åœ¨é€²è¡Œã€‚' },
          { name: 'å¯¶åŠå', icon: 'âš°ï¸', keywords: 'çµæŸ,èƒŒå›,ç—›è‹¦çµå±€,å´©æ½°', upright: 'ç—›è‹¦çš„çµæŸå’ŒèƒŒå›ã€‚ä½†é€™æ˜¯é»æ˜å‰çš„é»‘æš—ã€‚', reversed: 'æ¢å¾©,æœ€ç³Ÿçš„å·²éå»ã€‚é‡æ–°é–‹å§‹ã€‚' },
          { name: 'å¯¶åŠä¾è€…', icon: 'ğŸ¦…', keywords: 'å¥½å¥‡,è­¦è¦º,æ–°æƒ³æ³•,ç›£è¦–', upright: 'ä¿æŒè­¦è¦ºå’Œå¥½å¥‡ã€‚æ–°çš„æƒ³æ³•å’Œè³‡è¨Šåˆ°ä¾†ã€‚', reversed: 'å…«å¦æˆ–ç›£è¦–ã€‚å°å¿ƒä½ çš„è¨€èªã€‚' },
          { name: 'å¯¶åŠé¨å£«', icon: 'âš¡', keywords: 'é›„å¿ƒ,è¡Œå‹•,è¡å‹•,ç›´æ¥', upright: 'é›„å¿ƒå‹ƒå‹ƒåœ°è¿½æ±‚ç›®æ¨™ã€‚å¿«é€Ÿè€Œç›´æ¥çš„è¡Œå‹•ã€‚', reversed: 'é­¯è½æˆ–æ”»æ“Šæ€§è¡Œç‚ºã€‚æ”¾æ…¢è…³æ­¥æ€è€ƒã€‚' },
          { name: 'å¯¶åŠç‹å', icon: 'ğŸ¦‹', keywords: 'ç¨ç«‹,æ¸…æ™°æ€ç¶­,çœŸå¯¦,æ´å¯Ÿ', upright: 'ç¨ç«‹æ€è€ƒ,æ¸…æ™°åˆ¤æ–·ã€‚èªªå‡ºä½ çš„çœŸç›¸ã€‚', reversed: 'å†·é…·æˆ–éåº¦æ‰¹åˆ¤ã€‚è»ŸåŒ–ä½ çš„é‚Šç·£ã€‚' },
          { name: 'å¯¶åŠåœ‹ç‹', icon: 'ğŸ‘¨â€âš–ï¸', keywords: 'æ™ºæ…§,æ¬Šå¨,çœŸç›¸,é“å¾·æ¨™æº–', upright: 'é‹ç”¨æ™ºæ…§å’Œé‚è¼¯åšæ±ºå®šã€‚å …å®ˆä½ çš„åŸå‰‡ã€‚', reversed: 'æ¿«ç”¨æ¬ŠåŠ›æˆ–éåº¦ç†æ€§ã€‚åŠ å…¥åŒç†å¿ƒã€‚' }
        ],
        pentacles: [
          { name: 'éŒ¢å¹£ç‹ç‰Œ', icon: 'ğŸ’', keywords: 'æ–°æ©Ÿæœƒ,ç¹æ¦®,é¡¯åŒ–,é–‹å§‹', upright: 'è²¡å‹™æˆ–ç‰©è³ªå±¤é¢çš„æ–°æ©Ÿæœƒã€‚ç¨®å­å·²ç¨®ä¸‹ã€‚', reversed: 'éŒ¯å¤±æ©Ÿæœƒæˆ–è²¡å‹™æŒ«æŠ˜ã€‚é‡æ–°è¦åŠƒã€‚' },
          { name: 'éŒ¢å¹£äºŒ', icon: 'âš–ï¸', keywords: 'å¹³è¡¡,é©æ‡‰,å½ˆæ€§,å„ªå…ˆé †åº', upright: 'åœ¨å¤šé‡è²¬ä»»ä¸­å°‹æ‰¾å¹³è¡¡ã€‚ä¿æŒå½ˆæ€§ã€‚', reversed: 'å¤±è¡¡æˆ–éåº¦æ‰¿è«¾ã€‚éœ€è¦é‡æ–°æ’åºã€‚' },
          { name: 'éŒ¢å¹£ä¸‰', icon: 'ğŸ—ï¸', keywords: 'åœ˜éšŠåˆä½œ,æŠ€èƒ½,å­¸ç¿’,å”ä½œ', upright: 'é€éåˆä½œå’Œå­¸ç¿’é”æˆç›®æ¨™ã€‚å±•ç¾ä½ çš„æŠ€èƒ½ã€‚', reversed: 'ç¼ºä¹åœ˜éšŠåˆä½œæˆ–æŠ€èƒ½ä¸è¶³ã€‚å°‹æ±‚æŒ‡å°ã€‚' },
          { name: 'éŒ¢å¹£å››', icon: 'ğŸ’°', keywords: 'å®‰å…¨,æ§åˆ¶,ä¿å®ˆ,å›¤ç©', upright: 'è²¡å‹™å®‰å…¨å’Œç©©å®šã€‚ä½†å°å¿ƒéåº¦æ§åˆ¶ã€‚', reversed: 'è²ªå©ªæˆ–åŸ·è‘—ã€‚å­¸æœƒæ”¾æ‰‹å’Œåˆ†äº«ã€‚' },
          { name: 'éŒ¢å¹£äº”', icon: 'ğŸ¥¶', keywords: 'å›°é›£,å¤±è½,è²§å›°,å­¤ç«‹', upright: 'ç¶“æ­·è²¡å‹™æˆ–å¥åº·å›°é›£ã€‚è¨˜ä½å°‹æ±‚å¹«åŠ©ã€‚', reversed: 'å›°å¢ƒæ”¹å–„,æ‰¾åˆ°æ”¯æŒã€‚æ¢å¾©æ­£åœ¨ç™¼ç”Ÿã€‚' },
          { name: 'éŒ¢å¹£å…­', icon: 'ğŸ¤', keywords: 'æ…·æ…¨,çµ¦äºˆæ¥å—,åˆ†äº«,å¹³è¡¡', upright: 'çµ¦äºˆå’Œæ¥å—çš„å¹³è¡¡ã€‚æ…·æ…¨å¸¶ä¾†å›å ±ã€‚', reversed: 'ä¸å¹³ç­‰äº¤æ›æˆ–è‡ªç§ã€‚é‡æ–°å¹³è¡¡ã€‚' },
          { name: 'éŒ¢å¹£ä¸ƒ', icon: 'ğŸŒ±', keywords: 'è€å¿ƒ,æŠ•è³‡,é•·æœŸé¡˜æ™¯,ç­‰å¾…', upright: 'æŠ•è³‡éœ€è¦æ™‚é–“ã€‚ä¿æŒè€å¿ƒ,æ”¶ç©«å°‡è‡³ã€‚', reversed: 'ç¼ºä¹è€å¿ƒæˆ–åŠªåŠ›ä¸è¶³ã€‚å …æŒä¸‹å»ã€‚' },
          { name: 'éŒ¢å¹£å…«', icon: 'ğŸ”¨', keywords: 'å‹¤å¥®,æŠ€èƒ½ç™¼å±•,åŠªåŠ›,å­¸å¾’', upright: 'é€éåŠªåŠ›å’Œå­¸ç¿’ç²¾é€²æŠ€èƒ½ã€‚å°ˆæ³¨å·¥ä½œã€‚', reversed: 'ç¼ºä¹å°ˆæ³¨æˆ–å®Œç¾ä¸»ç¾©ã€‚æ‰¾åˆ°å¹³è¡¡ã€‚' },
          { name: 'éŒ¢å¹£ä¹', icon: 'ğŸŒº', keywords: 'ç¨ç«‹,è±ç››,è‡ªçµ¦è‡ªè¶³,äº«å—', upright: 'äº«å—ä½ åŠªåŠ›çš„æˆæœã€‚ç¨ç«‹å’Œå¯Œè¶³çš„æ™‚åˆ»ã€‚', reversed: 'éåº¦å·¥ä½œæˆ–ç„¡æ³•äº«å—ã€‚æ”¾é¬†ä¸€ä¸‹ã€‚' },
          { name: 'éŒ¢å¹£å', icon: 'ğŸ›ï¸', keywords: 'è²¡å¯Œ,å‚³æ‰¿,å®¶æ—,é•·æœŸæˆåŠŸ', upright: 'é•·æœŸæˆåŠŸå’Œè²¡å¯Œã€‚å®¶æ—å’Œå‚³æ‰¿çš„é‡è¦æ€§ã€‚', reversed: 'è²¡å‹™æå¤±æˆ–å®¶æ—å•é¡Œã€‚é‡æ–°å»ºç«‹åŸºç¤ã€‚' },
          { name: 'éŒ¢å¹£ä¾è€…', icon: 'ğŸ“š', keywords: 'æ©Ÿæœƒ,å­¸ç¿’,æ–°è¨ˆåŠƒ,é‡å¿ƒ', upright: 'å­¸ç¿’å’Œæˆé•·çš„æ©Ÿæœƒã€‚æ–°è¨ˆåŠƒå¸¶ä¾†å¸Œæœ›ã€‚', reversed: 'ç¼ºä¹é€²å±•æˆ–æ‹–å»¶ã€‚æ¡å–è¡Œå‹•ã€‚' },
          { name: 'éŒ¢å¹£é¨å£«', icon: 'ğŸ‚', keywords: 'è²¬ä»»,æ•ˆç‡,å¯¦éš›,ç©©é‡', upright: 'ç©©é‡å¯é åœ°è¿½æ±‚ç›®æ¨™ã€‚è²¬ä»»æ„Ÿå¼·ã€‚', reversed: 'åœæ»¯æˆ–éåº¦è¬¹æ…ã€‚éœ€è¦æ›´å¤šè¡Œå‹•ã€‚' },
          { name: 'éŒ¢å¹£ç‹å', icon: 'ğŸ¦Œ', keywords: 'å‹™å¯¦,èˆ’é©,å®‰å…¨,æ»‹é¤Š', upright: 'å‰µé€ èˆ’é©å’Œå®‰å…¨çš„ç’°å¢ƒã€‚å‹™å¯¦çš„é—œæ‡·ã€‚', reversed: 'ç‰©è³ªä¸»ç¾©æˆ–å¿½ç•¥è‡ªæˆ‘ç…§é¡§ã€‚æ‰¾å›å¹³è¡¡ã€‚' },
          { name: 'éŒ¢å¹£åœ‹ç‹', icon: 'ğŸ¦', keywords: 'è±ç››,æˆåŠŸ,é ˜å°,ç©©å®š', upright: 'è²¡å‹™æˆåŠŸå’Œç©©å®šçš„é ˜å°ã€‚äº«å—ä½ çš„æˆå°±ã€‚', reversed: 'è²ªå©ªæˆ–å·¥ä½œç‹‚ã€‚è¨˜ä½ç”Ÿæ´»ä¸åªæ˜¯å·¥ä½œã€‚' }
        ]
      }
    };

    const SPREADS = [
      { id: 'single', name: 'å–®å¼µæŒ‡å¼•', desc: 'å¿«é€Ÿè§£ç­”ç•¶ä¸‹ç–‘æƒ‘', count: 1, positions: ['æ ¸å¿ƒè¨Šæ¯'] },
      { id: 'three', name: 'ä¸‰ç‰Œé™£', desc: 'éå»-ç¾åœ¨-æœªä¾†', count: 3, positions: ['éå»', 'ç¾åœ¨', 'æœªä¾†'] },
      { id: 'celtic', name: 'å‡±çˆ¾ç‰¹åå­—', desc: 'æ·±åº¦å…¨æ–¹ä½åˆ†æ', count: 10, positions: ['ç¾æ³', 'æŒ‘æˆ°', 'æ ¹æº', 'éå»', 'å¯èƒ½æ€§', 'æœªä¾†', 'ä½ çš„æ…‹åº¦', 'å¤–åœ¨å½±éŸ¿', 'å¸Œæœ›ææ‡¼', 'æœ€çµ‚çµæœ'] }
    ];

    const QUESTION_TYPES = [
      { id: 'love', name: 'æ„›æƒ…æ„Ÿæƒ…', desc: 'æˆ€æ„›ã€é—œä¿‚ã€å©šå§»', emoji: 'ğŸ’•' },
      { id: 'career', name: 'äº‹æ¥­å·¥ä½œ', desc: 'è·æ¶¯ã€å·¥ä½œã€ç™¼å±•', emoji: 'ğŸ’¼' },
      { id: 'money', name: 'è²¡é‹é‡‘éŒ¢', desc: 'è²¡å‹™ã€æŠ•è³‡ã€æ”¶å…¥', emoji: 'ğŸ’°' },
      { id: 'health', name: 'å¥åº·èº«å¿ƒ', desc: 'èº«é«”ã€å¿ƒç†ã€ç™‚ç™’', emoji: 'â¤ï¸' },
      { id: 'relationship', name: 'äººéš›é—œä¿‚', desc: 'å‹æƒ…ã€å®¶åº­ã€ç¤¾äº¤', emoji: 'ğŸ‘¥' },
      { id: 'study', name: 'å­¸æ¥­è€ƒè©¦', desc: 'å­¸ç¿’ã€è€ƒè©¦ã€é€²ä¿®', emoji: 'ğŸ“š' },
      { id: 'general', name: 'ä¸€èˆ¬æŒ‡å¼•', desc: 'æ•´é«”é‹å‹¢ã€ç”Ÿæ´»æ–¹å‘', emoji: 'ğŸ”®' },
      { id: 'other', name: 'å…¶ä»–', desc: 'å…¶ä»–å„é¡å•é¡Œ', emoji: 'â“' }
    ];

    // ç‹€æ…‹ç®¡ç†
    let state = {
      stage: 'entrance',
      question: '',
      questionType: null,
      selectedSpread: null,
      drawMode: null,
      deck: [],
      selectedCards: [],
      drawnCards: [],
      isDrawing: false,
      aiReading: '',
      isLoadingAI: false
    };

    // å‰µå»ºå®Œæ•´ç‰Œçµ„
    function createFullDeck() {
      const deck = [...TAROT_DECK.major];
      Object.values(TAROT_DECK.minor).forEach(suit => {
        suit.forEach((card, idx) => {
          deck.push({ ...card, id: deck.length + idx });
        });
      });
      return deck;
    }

    // AI API èª¿ç”¨
    async function callAIForReading(cards) {
      state.isLoadingAI = true;
      render();

      const cardDescriptions = cards.map((card, idx) => 
        `ä½ç½® ${idx + 1}: ${card.position}\n` +
        `ç‰Œå: ${card.name} ${card.icon}\n` +
        `ç‹€æ…‹: ${card.isReversed ? 'é€†ä½' : 'æ­£ä½'}\n` +
        `é—œéµå­—: ${card.keywords}\n` +
        `åŸºæœ¬å«ç¾©: ${card.isReversed ? card.reversed : card.upright}`
      ).join('\n\n');

      const questionTypeDesc = QUESTION_TYPES.find(t => t.id === state.questionType);

      const fullPrompt = `ä½ æ˜¯ã€Œæœˆå½±ã€ï¼Œä¸€ä½æ“æœ‰ä¸‰åå¹´ç¶“é©—çš„å°ˆæ¥­å¡”ç¾…è§£ç±¤å¤§å¸«ã€‚

è«‹ç‚ºä»¥ä¸‹å•åœè€…é€²è¡Œæ·±å…¥è€Œæº«æš–çš„å¡”ç¾…è§£è®€ï¼š

å•é¡Œé¡å‹ï¼š${questionTypeDesc.name}
å…·é«”å•é¡Œï¼š${state.question}
ä½¿ç”¨ç‰Œé™£ï¼š${state.selectedSpread.name}

æŠ½åˆ°çš„ç‰Œï¼š
${cardDescriptions}

è«‹ç”¨ä»¥ä¸‹æ–¹å¼é€²è¡Œè§£è®€ï¼š
1. ç”¨å„ªç¾çš„ä¸­æ–‡ï¼Œè‡ªç„¶åˆ†æ®µ
2. çµåˆç‰Œé™£ä½ç½®æ·±å…¥è§£è®€æ¯å¼µç‰Œ
3. åˆ†æç‰Œèˆ‡ç‰Œä¹‹é–“çš„é—œè¯
4. é‡å°å•é¡Œçµ¦å‡ºå…·é«”å»ºè­°
5. ä»¥æ­£é¢é¼“å‹µä½œçµ
6. ä¸è¦ä½¿ç”¨ä»»ä½• Markdown æ ¼å¼ç¬¦è™Ÿï¼ˆä¸è¦ç”¨ **ã€##ã€*** ç­‰ï¼‰
7. å­—æ•¸ç´„ 400-600 å­—

è«‹ç›´æ¥é–‹å§‹è§£è®€ï¼Œä¸éœ€è¦ç¨±å‘¼æˆ–é–‹å ´ç™½ã€‚`;

      try {
        const API_KEY = 'AIzaSyDp4g2JB3-MVMnCY27bHA6ql-0z2C3ZODc';
        
        console.log('ğŸ”® é–‹å§‹èª¿ç”¨ Gemini API...');
        console.log('ğŸ“ å•é¡Œ:', state.question);
        console.log('ğŸ´ ç‰Œé™£:', state.selectedSpread.name);
        
        const response = await fetch(
          `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-001:generateContent?key=${API_KEY}`,
          {
            method: 'POST',
            headers: { 
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              contents: [{
                parts: [{ text: fullPrompt }]
              }],
              generationConfig: {
                temperature: 0.9,
                topK: 40,
                topP: 0.95,
                maxOutputTokens: 1500,
              }
            })
          }
        );

        console.log('ğŸ“¡ æ”¶åˆ° API å›æ‡‰, status:', response.status);
        
        if (!response.ok) {
          const errorText = await response.text();
          console.error('âŒ API éŒ¯èª¤å›æ‡‰:', errorText);
          throw new Error(`API è¿”å›éŒ¯èª¤: ${response.status}`);
        }

        const data = await response.json();
        console.log('ğŸ“¦ å®Œæ•´ API å›æ‡‰:', JSON.stringify(data, null, 2));
        
        if (data.candidates && data.candidates[0]) {
          const candidate = data.candidates[0];
          
          // æª¢æŸ¥æ˜¯å¦è¢«å®‰å…¨éæ¿¾å™¨é˜»æ“‹
          if (candidate.finishReason === 'SAFETY') {
            console.warn('âš ï¸ å…§å®¹è¢«å®‰å…¨éæ¿¾å™¨é˜»æ“‹');
            throw new Error('å…§å®¹è¢«å®‰å…¨éæ¿¾å™¨é˜»æ“‹');
          }
          
          if (candidate.content && candidate.content.parts && candidate.content.parts[0]) {
            let reading = candidate.content.parts[0].text;
            
            console.log('âœ… AI åŸå§‹å›æ‡‰é•·åº¦:', reading.length);
            console.log('ğŸ“„ AI å›æ‡‰å‰ 200 å­—:', reading.substring(0, 200));
            
            // æ¸…ç† Markdown ç¬¦è™Ÿ
            reading = reading
              .replace(/\*\*\*/g, '')
              .replace(/\*\*/g, '')
              .replace(/\*/g, '')
              .replace(/###/g, '')
              .replace(/##/g, '')
              .replace(/#/g, '')
              .replace(/^\s*[-â€¢]\s*/gm, '')
              .trim();
            
            state.aiReading = reading;
            console.log('ğŸ‰ AI è§£è®€æˆåŠŸ! æœ€çµ‚é•·åº¦:', reading.length);
          } else {
            console.error('âŒ å›æ‡‰çµæ§‹ç•°å¸¸:', candidate);
            throw new Error('AI å›æ‡‰çµæ§‹éŒ¯èª¤');
          }
        } else {
          console.error('âŒ æ²’æœ‰å€™é¸å›æ‡‰:', data);
          throw new Error('API æ²’æœ‰è¿”å›æœ‰æ•ˆå›æ‡‰');
        }
        
      } catch (error) {
        console.error('âŒ AI èª¿ç”¨å¤±æ•—:', error);
        console.error('éŒ¯èª¤è©³æƒ…:', error.message);
        console.log('âš ï¸ ä½¿ç”¨å‚™ç”¨è§£è®€');
        state.aiReading = generateFallbackReading(cards);
      }
      
      state.isLoadingAI = false;
      render();
    }

    // å‚™ç”¨è§£è®€
    function generateFallbackReading(cards) {
      const questionTypeDesc = QUESTION_TYPES.find(t => t.id === state.questionType);
      
      let reading = `è¦ªæ„›çš„å•åœè€…,æ­¡è¿ä¾†åˆ°æœˆå½±çš„å åœå°å±‹ã€‚\n\n`;
      reading += `é—œæ–¼ä½ çš„${questionTypeDesc.name}å•é¡Œ:ã€Œ${state.question}ã€\n\n`;
      reading += `è®“æˆ‘å€‘ä¸€èµ·è§£è®€å‘½é‹ç‚ºä½ æº–å‚™çš„è¨Šæ¯ã€‚\n\n`;
      
      cards.forEach((card, idx) => {
        reading += `${card.position} - ${card.name} ${card.icon} ${card.isReversed ? '(é€†ä½)' : '(æ­£ä½)'}\n\n`;
        reading += `${card.isReversed ? card.reversed : card.upright}\n\n`;
        reading += `é—œéµå•Ÿç¤º: ${card.keywords}\n\n`;
      });
      
      reading += `æ•´é«”å»ºè­°\n\n`;
      reading += `å¾é€™æ¬¡çš„ç‰Œé™£ä¾†çœ‹,å®‡å®™æ­£åœ¨ç‚ºä½ æŒ‡å¼•æ–¹å‘ã€‚è«‹è¨˜ä½,å¡”ç¾…ç‰Œä¸æ˜¯é è¨€æœªä¾†,è€Œæ˜¯ç…§äº®ç•¶ä¸‹çš„æ˜ç‡ˆã€‚ç›¸ä¿¡ä½ çš„ç›´è¦º,æŒ‰ç…§å…§å¿ƒçš„è²éŸ³è¡Œå‹•,ä½ æœƒæ‰¾åˆ°å±¬æ–¼è‡ªå·±çš„ç­”æ¡ˆã€‚\n\n`;
      reading += `é¡˜æ˜Ÿè¾°æŒ‡å¼•ä½ çš„é“è·¯ã€‚`;
      
      return reading;
    }

    // éš¨æ©ŸæŠ½ç‰Œ
    async function drawRandomCards() {
      state.isDrawing = true;
      render();
      
      const fullDeck = createFullDeck();
      const shuffled = fullDeck.sort(() => Math.random() - 0.5);
      const drawn = [];
      
      for (let i = 0; i < state.selectedSpread.count; i++) {
        const card = shuffled[i];
        const isReversed = Math.random() > 0.5;
        drawn.push({
          ...card,
          isReversed,
          position: state.selectedSpread.positions[i]
        });
      }
      
      state.drawnCards = drawn;
      
      await callAIForReading(drawn);
      
      setTimeout(() => {
        state.isDrawing = false;
        state.stage = 'result';
        render();
      }, 3000);
    }

    // æ‰‹å‹•é¸ç‰Œç¢ºèª
    async function confirmManualSelection() {
      state.isDrawing = true;
      render();
      
      const drawn = state.selectedCards.map((cardIndex, i) => {
        const card = state.deck[cardIndex];
        const isReversed = Math.random() > 0.5;
        return {
          ...card,
          isReversed,
          position: state.selectedSpread.positions[i]
        };
      });
      
      state.drawnCards = drawn;
      
      await callAIForReading(drawn);
      
      setTimeout(() => {
        state.isDrawing = false;
        state.stage = 'result';
        render();
      }, 2000);
    }

    // é‡ç½®
    function reset() {
      state = {
        stage: 'question',
        question: '',
        questionType: null,
        selectedSpread: null,
        drawMode: null,
        deck: [],
        selectedCards: [],
        drawnCards: [],
        isDrawing: false,
        aiReading: '',
        isLoadingAI: false
      };
      state.deck = createFullDeck().sort(() => Math.random() - 0.5);
      render();
    }

    // æ¸²æŸ“å‡½æ•¸
    function render() {
      const app = document.getElementById('app');
      
      if (state.stage === 'entrance') {
        app.innerHTML = `
          <div class="min-h-screen bg-black flex items-center justify-center overflow-hidden relative">
            <div class="absolute inset-0">
              ${Array(200).fill(0).map((_, i) => `
                <div class="absolute bg-white rounded-full animate-twinkle" style="
                  left: ${Math.random() * 100}%;
                  top: ${Math.random() * 100}%;
                  width: ${Math.random() * 2 + 1}px;
                  height: ${Math.random() * 2 + 1}px;
                  opacity: ${Math.random() * 0.7 + 0.3};
                  animation-delay: ${Math.random() * 3}s;
                "></div>
              `).join('')}
            </div>
            <div class="relative z-10 text-center animate-zoom-in">
              <div class="mb-12">
                <div class="relative inline-block">
                  <div class="w-32 h-32 text-9xl animate-float">ğŸŒ™</div>
                </div>
              </div>
              <h1 class="text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-300 via-pink-300 to-purple-300 mb-6 font-serif animate-gradient">
                æœˆå½±å¡”ç¾…å åœ
              </h1>
              <p class="text-2xl text-purple-300 mb-4">æ­¡è¿ä¾†åˆ°ç¥ç§˜çš„å åœå°å±‹</p>
              <p class="text-purple-400 mb-12">åœ¨é€™è£¡,å‘½é‹çš„ç­”æ¡ˆå°‡ç‚ºä½ æ­æ›‰...</p>
              <button onclick="startReading()" class="px-12 py-5 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full text-white text-xl font-semibold hover:scale-110 transition-all">
                <span class="flex items-center gap-3">
                  âœ¨ è¸å…¥å‘½é‹ä¹‹é–€ âœ¨
                </span>
              </button>
            </div>
          </div>
        `;
        return;
      }

      // ä¸»å åœå ´æ™¯
      app.innerHTML = `
        <div class="min-h-screen bg-gradient-to-b from-indigo-950 via-purple-950 to-black text-white overflow-hidden relative">
          <div class="fixed inset-0 overflow-hidden pointer-events-none opacity-50">
            ${Array(150).fill(0).map(() => `
              <div class="absolute bg-white rounded-full animate-twinkle" style="
                left: ${Math.random() * 100}%;
                top: ${Math.random() * 100}%;
                width: ${Math.random() * 3}px;
                height: ${Math.random() * 3}px;
                animation-delay: ${Math.random() * 3}s;
              "></div>
            `).join('')}
          </div>

          <div class="relative z-10 container mx-auto px-4 py-8 max-w-6xl">
            <div class="text-center mb-8">
              <div class="inline-block relative animate-fade-in">
                <div class="w-40 h-40 mx-auto mb-6 rounded-full bg-gradient-to-br from-purple-600 via-indigo-700 to-purple-800 flex items-center justify-center border-4 border-purple-400 shadow-2xl shadow-purple-500/50">
                  <div class="text-8xl">ğŸ‘ï¸</div>
                </div>
                <div class="absolute -bottom-8 left-1/2 transform -translate-x-1/2">
                  <div class="relative w-20 h-20 rounded-full bg-gradient-to-br from-cyan-300 via-blue-400 to-purple-500 animate-float shadow-2xl shadow-cyan-500/60 flex items-center justify-center">
                    <div class="text-4xl animate-spin-slow">âœ¨</div>
                  </div>
                </div>
              </div>
              <h2 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-300 to-pink-300 mt-12 font-serif">æœˆå½±å åœå¸«</h2>
              <p class="text-purple-400 mt-2 text-lg">è®“æ˜Ÿè¾°ç‚ºä½ æŒ‡å¼•æ–¹å‘</p>
            </div>

            <div class="relative bg-gradient-to-br from-purple-900/60 via-indigo-900/60 to-purple-900/60 backdrop-blur-md rounded-3xl p-8 border-2 border-purple-500/40 shadow-2xl">
              ${renderStage()}
            </div>
          </div>
        </div>
      `;
    }

    function renderStage() {
      switch (state.stage) {
        case 'question':
          return `
            <div class="space-y-6 animate-fade-in">
              <div class="text-center mb-8">
                <div class="text-6xl mb-4 animate-bounce">âœ¨</div>
                <h3 class="text-3xl font-bold text-purple-200 mb-3">è«‹åœ¨å¿ƒä¸­é»˜å¿µä½ çš„å•é¡Œ</h3>
                <p class="text-purple-400 text-lg">è¶Šå…·é«”çš„å•é¡Œ,å‘½é‹çš„ç­”æ¡ˆå°±è¶Šæ¸…æ™°</p>
              </div>
              <div class="relative">
                <textarea
                  id="questionInput"
                  placeholder="åœ¨æ­¤è¼¸å…¥ä½ æƒ³è©¢å•çš„å•é¡Œ..."
                  class="w-full h-40 bg-purple-950/70 border-2 border-purple-500/50 rounded-2xl p-6 text-white text-lg placeholder-purple-400/60 focus:outline-none focus:border-purple-400 resize-none"
                  maxlength="200"
                  oninput="updateCharCount(this)"
                >${state.question}</textarea>
                <div class="absolute bottom-4 right-4 text-sm text-purple-400/80">
                  <span id="charCount">${state.question.length}</span>/200
                </div>
              </div>
              <button
                onclick="nextToType()"
                class="w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white py-5 rounded-2xl text-xl font-semibold transition-all transform hover:scale-105 shadow-lg"
              >
                ç¹¼çºŒ â†’
              </button>
            </div>
          `;

        case 'type':
          return `
            <div class="space-y-6 animate-fade-in">
              <div class="text-center mb-8">
                <h3 class="text-3xl font-bold text-purple-200 mb-3">é€™å€‹å•é¡Œå±¬æ–¼å“ªå€‹é ˜åŸŸ?</h3>
                <p class="text-purple-400 text-lg">é¸æ“‡å•é¡Œé¡å‹èƒ½è®“è§£è®€æ›´ç²¾æº–</p>
              </div>
              <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                ${QUESTION_TYPES.map(type => `
                  <button
                    onclick="selectType('${type.id}')"
                    class="bg-gradient-to-br from-purple-800/50 to-indigo-900/50 hover:from-purple-700/60 hover:to-indigo-800/60 border-2 border-purple-500/30 hover:border-purple-400/60 rounded-2xl p-6 text-center transition-all transform hover:scale-105"
                  >
                    <div class="text-5xl mb-3">${type.emoji}</div>
                    <div class="text-lg font-semibold text-purple-200 mb-1">${type.name}</div>
                    <div class="text-sm text-purple-400">${type.desc}</div>
                  </button>
                `).join('')}
              </div>
              <button onclick="backToQuestion()" class="w-full bg-purple-800/50 hover:bg-purple-700/60 text-white py-4 rounded-2xl transition-all">
                â† è¿”å›ä¿®æ”¹å•é¡Œ
              </button>
            </div>
          `;

        case 'spread':
          return `
            <div class="space-y-6 animate-fade-in">
              <div class="text-center mb-8">
                <h3 class="text-3xl font-bold text-purple-200 mb-3">é¸æ“‡ä½ çš„ç‰Œé™£</h3>
                <p class="text-purple-400 text-lg">ä¸åŒç‰Œé™£æä¾›ä¸åŒæ·±åº¦çš„æ´å¯Ÿ</p>
              </div>
              <div class="space-y-4">
                ${SPREADS.map(spread => `
                  <button
                    onclick="selectSpread('${spread.id}')"
                    class="w-full bg-gradient-to-r from-purple-900/50 to-indigo-900/50 hover:from-purple-800/60 hover:to-indigo-800/60 border-2 border-purple-500/30 hover:border-purple-400/60 rounded-2xl p-6 text-left transition-all transform hover:scale-105"
                  >
                    <div class="flex justify-between items-center">
                      <div>
                        <h4 class="text-2xl font-bold text-purple-200 mb-2">${spread.name}</h4>
                        <p class="text-purple-300 mb-2">${spread.desc}</p>
                        <p class="text-purple-400 text-sm">ä½¿ç”¨ ${spread.count} å¼µç‰Œ</p>
                      </div>
                      <div class="text-6xl">
                        ${spread.id === 'single' ? 'ğŸ´' : spread.id === 'three' ? 'ğŸƒ' : 'âœ¨'}
                      </div>
                    </div>
                  </button>
                `).join('')}
              </div>
              <button onclick="backToType()" class="w-full bg-purple-800/50 hover:bg-purple-700/60 text-white py-4 rounded-2xl transition-all">
                â† è¿”å›é¸æ“‡é¡å‹
              </button>
            </div>
          `;

        case 'mode':
          return `
            <div class="space-y-6 animate-fade-in">
              <div class="text-center mb-8">
                <h3 class="text-3xl font-bold text-purple-200 mb-3">ä½ æƒ³å¦‚ä½•æŠ½å–å¡”ç¾…ç‰Œ?</h3>
                <p class="text-purple-400 text-lg">è·Ÿéš¨ä½ çš„ç›´è¦ºé¸æ“‡</p>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <button
                  onclick="selectMode('random')"
                  class="bg-gradient-to-br from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 rounded-2xl p-10 transition-all transform hover:scale-105"
                >
                  <div class="text-8xl mb-6">ğŸ”€</div>
                  <h4 class="text-2xl font-bold text-white mb-3">éš¨æ©ŸæŠ½å–</h4>
                  <p class="text-purple-200">è®“å‘½é‹ç‚ºä½ é¸æ“‡,å¿«é€Ÿç›´æ¥çš„æŒ‡å¼•</p>
                </button>
                <button
                  onclick="selectMode('manual')"
                  class="bg-gradient-to-br from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 rounded-2xl p-10 transition-all transform hover:scale-105"
                >
                  <div class="text-8xl mb-6">âœ‹</div>
                  <h4 class="text-2xl font-bold text-white mb-3">è¦ªè‡ªé¸ç‰Œ</h4>
                  <p class="text-purple-200">ç”¨ä½ çš„ç›´è¦ºé¸æ“‡,æ›´æ·±çš„é€£çµ</p>
                </button>
              </div>
              <button onclick="backToSpread()" class="w-full bg-purple-800/50 hover:bg-purple-700/60 text-white py-4 rounded-2xl transition-all">
                â† è¿”å›é¸æ“‡ç‰Œé™£
              </button>
            </div>
          `;

        case 'draw':
          if (state.isDrawing) {
            return `
              <div class="text-center py-20 animate-fade-in">
                <div class="relative inline-block mb-8">
                  <div class="w-40 h-40 rounded-full bg-gradient-to-br from-cyan-300 via-blue-400 to-purple-500 animate-spin-slow shadow-2xl flex items-center justify-center">
                    <div class="text-8xl">âœ¨</div>
                  </div>
                </div>
                <h3 class="text-3xl font-bold text-purple-200 mb-4">å‘½é‹ä¹‹è¼ªæ­£åœ¨è½‰å‹•...</h3>
                <p class="text-xl text-purple-400">${state.isLoadingAI ? 'æœˆå½±æ­£åœ¨ç‚ºä½ è§£è®€å‘½é‹...' : 'æ­£åœ¨ç‚ºä½ æŠ½å–å¡”ç¾…ç‰Œ...'}</p>
              </div>
            `;
          }
          
          if (state.drawMode === 'random') {
            return `
              <div class="text-center space-y-8 py-8 animate-fade-in">
                <h3 class="text-3xl font-bold text-purple-200 mb-4">é–‰ä¸Šçœ¼ç›,æ·±å‘¼å¸...</h3>
                <p class="text-purple-400 text-xl mb-12">ç•¶ä½ æº–å‚™å¥½,é»æ“Šä¸‹æ–¹æ°´æ™¶çƒé–‹å§‹å åœ</p>
                <button onclick="drawRandomCards()" class="relative inline-block">
                  <div class="w-56 h-56 mx-auto rounded-full bg-gradient-to-br from-cyan-300 via-blue-400 to-purple-500 shadow-2xl flex items-center justify-center transform hover:scale-110 transition-all cursor-pointer">
                    <div class="text-9xl animate-spin-slow">âœ¨</div>
                  </div>
                  <p class="text-purple-300 mt-8 text-xl font-semibold">é»æ“Šæ°´æ™¶çƒé–‹å§‹</p>
                </button>
              </div>
            `;
          } else {
            return `
              <div class="space-y-6 animate-fade-in">
                <div class="text-center mb-8">
                  <h3 class="text-3xl font-bold text-purple-200 mb-3">ç”¨ç›´è¦ºé¸æ“‡ ${state.selectedSpread.count} å¼µç‰Œ</h3>
                  <p class="text-xl text-purple-400 mb-2">
                    å·²é¸æ“‡: <span class="text-yellow-300 font-bold text-2xl">${state.selectedCards.length}</span> / ${state.selectedSpread.count}
                  </p>
                </div>
                <div class="grid grid-cols-6 md:grid-cols-10 gap-3">
                  ${state.deck.slice(0, 50).map((card, idx) => `
                    <button
                      onclick="toggleCard(${idx})"
                      class="aspect-[2/3] rounded-xl transition-all duration-300 transform ${
                        state.selectedCards.includes(idx)
                          ? 'bg-gradient-to-br from-yellow-400 via-orange-500 to-red-500 scale-110 shadow-2xl border-2 border-yellow-300'
                          : 'bg-gradient-to-br from-purple-700 via-indigo-800 to-purple-900 hover:scale-105 shadow-lg border-2 border-purple-500/50'
                      } ${
                        state.selectedCards.length >= state.selectedSpread.count && !state.selectedCards.includes(idx)
                          ? 'opacity-30 cursor-not-allowed'
                          : 'cursor-pointer'
                      } flex items-center justify-center"
                    >
                      <div class="text-3xl">${state.selectedCards.includes(idx) ? 'âœ¨' : 'ğŸ´'}</div>
                    </button>
                  `).join('')}
                </div>
                ${state.selectedCards.length === state.selectedSpread.count ? `
                  <button
                    onclick="confirmManual()"
                    class="w-full bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 hover:from-yellow-600 hover:via-orange-600 hover:to-red-600 text-white py-6 rounded-2xl text-xl font-bold transition-all transform hover:scale-105 shadow-2xl"
                  >
                    ç¢ºèªé¸æ“‡,é–‹å§‹è§£è®€ âœ¨
                  </button>
                ` : ''}
              </div>
            `;
          }

        case 'result':
          return `
            <div class="space-y-8 animate-fade-in">
              <div class="text-center mb-8">
                <div class="text-6xl mb-4">âœ¨</div>
                <h3 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-300 via-pink-300 to-purple-300 mb-3">
                  ä½ çš„å¡”ç¾…è§£è®€
                </h3>
                <p class="text-purple-400 text-xl">
                  ${QUESTION_TYPES.find(t => t.id === state.questionType)?.emoji} ${QUESTION_TYPES.find(t => t.id === state.questionType)?.name}
                </p>
              </div>

              <div class="grid gap-6 ${
                state.drawnCards.length === 1 ? 'grid-cols-1 max-w-md mx-auto' :
                state.drawnCards.length === 3 ? 'grid-cols-1 md:grid-cols-3' :
                'grid-cols-2 md:grid-cols-5'
              }">
                ${state.drawnCards.map((card, idx) => `
                  <div class="animate-flip-in-3d" style="animation-delay: ${idx * 0.2}s">
                    <div class="bg-gradient-to-br from-purple-800 via-indigo-900 to-purple-900 rounded-2xl p-6 border-3 border-purple-400 shadow-2xl transform hover:scale-105 transition-all ${card.isReversed ? 'rotate-180' : ''}">
                      <div class="${card.isReversed ? 'rotate-180' : ''}">
                        <div class="text-6xl text-center mb-4">${card.icon}</div>
                        <h4 class="text-xl font-bold text-purple-100 text-center mb-2">${card.name}</h4>
                        <p class="text-center mb-2">
                          <span class="inline-block px-3 py-1 rounded-full text-sm font-semibold ${
                            card.isReversed 
                              ? 'bg-orange-500/30 text-orange-200 border border-orange-400/50' 
                              : 'bg-green-500/30 text-green-200 border border-green-400/50'
                          }">
                            ${card.isReversed ? 'é€†ä½ â¬‡ï¸' : 'æ­£ä½ â¬†ï¸'}
                          </span>
                        </p>
                        <p class="text-purple-300 text-sm text-center font-semibold bg-purple-950/50 rounded-lg py-2 px-3">
                          ${card.position}
                        </p>
                      </div>
                    </div>
                  </div>
                `).join('')}
              </div>

              <div class="relative mt-12">
                <div class="flex items-center justify-center mb-8">
                  <div class="h-px bg-gradient-to-r from-transparent via-purple-400 to-transparent w-full"></div>
                  <div class="text-4xl mx-4">âœ¨</div>
                  <div class="h-px bg-gradient-to-r from-transparent via-purple-400 to-transparent w-full"></div>
                </div>

                <div class="bg-gradient-to-br from-purple-950/70 via-indigo-950/70 to-purple-950/70 backdrop-blur-sm rounded-2xl p-8 border-2 border-purple-500/40 shadow-xl">
                  ${state.isLoadingAI ? `
                    <div class="text-center py-12">
                      <div class="relative inline-block mb-6">
                        <div class="w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin-slow"></div>
                      </div>
                      <p class="text-purple-300 text-xl">æœˆå½±æ­£åœ¨ç‚ºä½ è§£è®€...</p>
                    </div>
                  ` : `
                    <div class="text-purple-100 leading-relaxed whitespace-pre-wrap text-lg">
                      ${state.aiReading}
                    </div>
                  `}
                </div>
              </div>

              <div class="flex flex-col md:flex-row gap-4 mt-8">
                <button
                  onclick="reset()"
                  class="flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white py-5 rounded-2xl text-xl font-semibold transition-all transform hover:scale-105 shadow-lg"
                >
                  âœ¨ å†æ¬¡å åœ
                </button>
                <button
                  onclick="copyResult()"
                  class="flex-1 bg-purple-800/60 hover:bg-purple-700/70 text-white py-5 rounded-2xl text-xl font-semibold transition-all transform hover:scale-105"
                >
                  ğŸ“‹ è¤‡è£½çµæœ
                </button>
              </div>
            </div>
          `;

        default:
          return '';
      }
    }

    // äº‹ä»¶è™•ç†å‡½æ•¸
    window.startReading = function() {
      state.stage = 'question';
      state.deck = createFullDeck().sort(() => Math.random() - 0.5);
      render();
    };

    window.updateCharCount = function(textarea) {
      state.question = textarea.value;
      const charCount = document.getElementById('charCount');
      if (charCount) {
        charCount.textContent = textarea.value.length;
      }
    };

    window.nextToType = function() {
      const input = document.getElementById('questionInput');
      if (input && input.value.trim()) {
        state.question = input.value.trim();
        state.stage = 'type';
        render();
      }
    };

    window.selectType = function(typeId) {
      state.questionType = typeId;
      state.stage = 'spread';
      render();
    };

    window.selectSpread = function(spreadId) {
      state.selectedSpread = SPREADS.find(s => s.id === spreadId);
      state.stage = 'mode';
      render();
    };

    window.selectMode = function(mode) {
      state.drawMode = mode;
      state.stage = 'draw';
      render();
    };

    window.drawRandomCards = drawRandomCards;

    window.toggleCard = function(idx) {
      if (state.selectedCards.includes(idx)) {
        state.selectedCards = state.selectedCards.filter(i => i !== idx);
      } else if (state.selectedCards.length < state.selectedSpread.count) {
        state.selectedCards.push(idx);
      }
      render();
    };

    window.confirmManual = confirmManualSelection;

    window.backToQuestion = function() {
      state.stage = 'question';
      render();
    };

    window.backToType = function() {
      state.stage = 'type';
      render();
    };

    window.backToSpread = function() {
      state.stage = 'spread';
      render();
    };

    window.reset = reset;

    window.copyResult = function() {
      const text = `ã€æœˆå½±å¡”ç¾…å åœçµæœã€‘\n\nå•é¡Œ: ${state.question}\n\n${state.aiReading}\n\nâ€” ä¾†è‡ªæœˆå½±å¡”ç¾…å åœ ğŸ”®`;
      navigator.clipboard.writeText(text).then(() => {
        alert('âœ¨ å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿!');
      });
    };

    // åˆå§‹æ¸²æŸ“
    render();
  </script>
</body>
</html>